<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GroupFiler.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Midterm</a> &gt; <a href="index.source.html" class="el_package">midtermExam.p1</a> &gt; <span class="el_source">GroupFiler.java</span></div><h1>GroupFiler.java</h1><pre class="source lang-java linenums">package midtermExam.p1;

import java.util.Objects;

/**
 * A concrete class representing group tax filer.
 */
public class GroupFiler extends TaxFile{
  protected Integer numOfDependants;
  protected Integer numOfMinorChildren;
  protected Double childcareExpense;
  protected Double dependentCareExpenses;
  private static final double RETIRE_HEALTH_FACTOR = 0.65;
<span class="nc" id="L14">  private static final Integer HEALTH_RETIREMENT_DEDUCTION_FLOOR = 17500;</span>
  private static final double STUDENT_LOAN_DEDUCTION_UPPER_CUTOFF = 200000;
  private static final double STUDENT_LOAN_DEDUCTION_LOWER_CUTOFF = 7500;
  private static final double EDUCATION_DEDUCTION = 2500;
<span class="nc" id="L18">  private static final Integer CHILDCARE_REDUCTION = 1250;</span>
<span class="nc" id="L19">  private static final Integer CHILDCARE_REDUCTION_INCOME_CUTOFF = 200000;</span>
<span class="nc" id="L20">  private static final Integer CHILDCARE_REDUCTION_EXPENSE_CUTOFF = 5000;</span>
<span class="nc" id="L21">  private static final Integer CHILDCARE_CREDIT_INCOME_CUTOFF = 75000;</span>
<span class="nc" id="L22">  private static final Integer CHILDCARE_CREDIT = 750;</span>
<span class="nc" id="L23">  private static final Integer TAXABLE_INCOME_CUTOFF = 90000;</span>

  public GroupFiler(String taxID, ContactInfo contactInfo, Double lastYearEarnings,
      Double totalIncomeTaxPaid, Double mortgageInterestPaid, Double studentLoadPaid,
      Double contributionRetirement, Double contributionHealth, Double charitableDonation,
      Integer numOfDependants, Integer numOfMinorChildren, Double childcareExpense,
      Double dependentCareExpenses) {
<span class="nc" id="L30">    super(taxID, contactInfo, lastYearEarnings, totalIncomeTaxPaid, mortgageInterestPaid,</span>
        studentLoadPaid, contributionRetirement, contributionHealth, charitableDonation);
<span class="nc" id="L32">    this.numOfDependants = numOfDependants;</span>
<span class="nc" id="L33">    this.numOfMinorChildren = numOfMinorChildren;</span>
<span class="nc" id="L34">    this.childcareExpense = childcareExpense;</span>
<span class="nc" id="L35">    this.dependentCareExpenses = dependentCareExpenses;</span>
<span class="nc" id="L36">  }</span>

  public Integer getNumOfDependants() {
<span class="nc" id="L39">    return numOfDependants;</span>
  }

  public Integer getNumOfMinorChildren() {
<span class="nc" id="L43">    return numOfMinorChildren;</span>
  }

  public Double getChildcareExpense() {
<span class="nc" id="L47">    return childcareExpense;</span>
  }

  public Double getDependentCareExpenses() {
<span class="nc" id="L51">    return dependentCareExpenses;</span>
  }

  @Override
  public boolean equals(Object o) {
<span class="nc bnc" id="L56" title="All 2 branches missed.">    if (this == o) {</span>
<span class="nc" id="L57">      return true;</span>
    }
<span class="nc bnc" id="L59" title="All 2 branches missed.">    if (!(o instanceof GroupFiler)) {</span>
<span class="nc" id="L60">      return false;</span>
    }
<span class="nc bnc" id="L62" title="All 2 branches missed.">    if (!super.equals(o)) {</span>
<span class="nc" id="L63">      return false;</span>
    }
<span class="nc" id="L65">    GroupFiler that = (GroupFiler) o;</span>
<span class="nc bnc" id="L66" title="All 2 branches missed.">    return Objects.equals(numOfDependants, that.numOfDependants) &amp;&amp; Objects</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">        .equals(numOfMinorChildren, that.numOfMinorChildren) &amp;&amp; Objects</span>
<span class="nc bnc" id="L68" title="All 2 branches missed.">        .equals(childcareExpense, that.childcareExpense) &amp;&amp; Objects</span>
<span class="nc bnc" id="L69" title="All 2 branches missed.">        .equals(dependentCareExpenses, that.dependentCareExpenses);</span>
  }

  @Override
  public int hashCode() {
<span class="nc" id="L74">    return Objects.hash(super.hashCode(), numOfDependants, numOfMinorChildren, childcareExpense,</span>
        dependentCareExpenses);
  }

  @Override
  public String toString() {
<span class="nc" id="L80">    return &quot;GroupFiler{&quot; +</span>
        &quot;numOfDependants=&quot; + numOfDependants +
        &quot;, numOfMinorChildren=&quot; + numOfMinorChildren +
        &quot;, childcareExpense=&quot; + childcareExpense +
        &quot;, dependentCareExpenses=&quot; + dependentCareExpenses +
        &quot;, taxID='&quot; + taxID + '\'' +
        &quot;, contactInfo=&quot; + contactInfo +
        &quot;, lastYearEarnings=&quot; + lastYearEarnings +
        &quot;, totalIncomeTaxPaid=&quot; + totalIncomeTaxPaid +
        &quot;, mortgageInterestPaid=&quot; + mortgageInterestPaid +
        &quot;, studentLoadPaid=&quot; + studentLoadPaid +
        &quot;, contributionRetirement=&quot; + contributionRetirement +
        &quot;, contributionHealth=&quot; + contributionHealth +
        &quot;, charitableDonation=&quot; + charitableDonation +
        '}';
  }


  protected Double estimateRetireDeduction(){
<span class="nc" id="L99">    double est = (this.getContributionHealth() + this.getContributionRetirement()) * RETIRE_HEALTH_FACTOR;</span>
<span class="nc" id="L100">    return Math.min(est,HEALTH_RETIREMENT_DEDUCTION_FLOOR);</span>
  }

  protected Double estimateStudentDeduction(){
<span class="nc bnc" id="L104" title="All 4 branches missed.">    if(this.studentLoadPaid &lt; STUDENT_LOAN_DEDUCTION_UPPER_CUTOFF &amp;&amp; this.studentLoadPaid &gt; STUDENT_LOAN_DEDUCTION_LOWER_CUTOFF){</span>
<span class="nc" id="L105">      return EDUCATION_DEDUCTION;</span>
    }
<span class="nc" id="L107">    return 0.0;</span>
  }

  protected int estimateChildcareDeduction(){
<span class="nc bnc" id="L111" title="All 4 branches missed.">    if(this.getLastYearEarnings() &lt; CHILDCARE_REDUCTION_INCOME_CUTOFF &amp;&amp; this.childcareExpense &gt; CHILDCARE_REDUCTION_EXPENSE_CUTOFF){</span>
<span class="nc" id="L112">      return CHILDCARE_REDUCTION;</span>
    }
<span class="nc" id="L114">    return 0;</span>
  }

  /**
   * This tax credit amount is subtracted from the tax amount.
   * @return estimated childcare credit.
   */
  protected int estimateChildCredit(){
<span class="nc bnc" id="L122" title="All 2 branches missed.">    if(this.getLastYearEarnings() &lt; CHILDCARE_CREDIT_INCOME_CUTOFF){</span>
<span class="nc" id="L123">      return CHILDCARE_CREDIT * this.numOfMinorChildren;</span>
    }
<span class="nc" id="L125">    return 0;</span>
  }

  /**
   * Method to estimate tax amount.
   * @return the tax amount.
   */
  @Override
  public Double calculateTax(){
<span class="nc" id="L134">    double taxableIncome = this.estimateBasicTaxableIncome() - this.estimateDonationDeduction() - this.estimateMortgagePropertyDeduction() - this.estimateRetireDeduction() - this.estimateStudentDeduction() - this.estimateChildcareDeduction();</span>
<span class="nc" id="L135">    double taxableFactor = 0;</span>
<span class="nc bnc" id="L136" title="All 2 branches missed.">    if(taxableIncome &lt; TAXABLE_INCOME_CUTOFF){</span>
<span class="nc" id="L137">      taxableFactor = 0.145;</span>
    }else{
<span class="nc" id="L139">      taxableFactor = 0.19;</span>
    }
<span class="nc" id="L141">    return taxableIncome * taxableFactor + this.estimateChildCredit();</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>